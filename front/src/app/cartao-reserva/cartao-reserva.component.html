<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=0.5, user-scalable=no" />
<div class="cartao" ng-hide="reserva == null">

    <form id="cartaoForm" class="form" [formGroup]="cartaoForm" (ngSubmit)="cartaoReserva(cartaoForm.value)"
        *ngIf="showForm();else otherwise">

        <div class="tab">
            <p>Atualizar Dados de Cartão de Crédito</p>
            <div class="numeroCartaoCreditoForm">
                <label for="numeroCartaoCredito">Número do Cartão de Crédito:</label>
                <input type="number" formControlName="numeroCartaoCredito" [(ngModel)]="card.number">
            </div>
            <div class="dataValidadeForm">
                <label for="dataValidade">Data de Validade do Cartão de Crédito:</label>
                <input type="date" formControlName="dataValidade" [(ngModel)]="data">
            </div>
            <div class="cvvForm">
                <label for="cvv">CVV:</label>
                <input type="number" formControlName="cvv" [(ngModel)]="card.cvv">
            </div>
            <p style="font-size: 0.7em;">Antigo preço:</p>
            <a>{{oldPrice}} €</a>
            <p style="font-size: 0.7em;">Novo preço:</p>
            <a>{{newPrice}} €</a>
        </div>

        <div class="botoes">
            <button type="button" (click)="cartaoReserva(cartaoForm.value)">Confirmar</button>
        </div>

    </form>

    <ng-template #otherwise>
        <div class="tab">
            <p>Dados do cartão:</p>
            <div class="dados" style="text-align: left; position: relative;" *ngIf="card!=null">
                <p style="font-size: 0.7em;"><a>Número do Cartão:</a> {{card.number}}
                </p>
                <p style="font-size: 0.7em;"><a>Data de Validade do Cartão:</a>
                    {{getExpDate()}}</p>
                <p style="font-size: 0.7em;"><a>CVV:</a> {{card.cvv}}</p>
            </div>
            <p style="font-size: 0.7em;">Antigo preço:</p>
            <a>{{oldPrice}} €</a>
            <p style="font-size: 0.7em;">Novo preço:</p>
            <a>{{ newPrice}} €</a>
            <br>
            <p style="font-size: 0.7em;">A diferença entre os preços será creditada neste cartão.
            </p>
        </div>

        <div class="botoes">
            <button type="button" routerLink="/reserva/{{reserva._id}}">Ver Reserva</button>
        </div>
    </ng-template>

</div>